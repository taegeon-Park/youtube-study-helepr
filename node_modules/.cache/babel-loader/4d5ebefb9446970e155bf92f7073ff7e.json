{"ast":null,"code":"var _jsxFileName = \"D:\\\\react\\\\test-study-redux\\\\src\\\\components\\\\Main\\\\Note\\\\NoteDetail.js\";\nimport React, { Component } from 'react';\nimport Memo from './Memo';\nimport Youtube from 'react-youtube';\nimport './NoteDetail.css';\nexport default class NoteDetail extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      memoList: [{\n        memoId: \"1\",\n        memoTitle: \"memo1\",\n        memoContent: \"memoContent1\",\n        memoVideoTime: 191\n      }, {\n        memoId: \"2\",\n        memoTitle: \"memo2\",\n        memoContent: \"memoContent2\",\n        memoVideoTime: 291\n      }, {\n        memoId: \"3\",\n        memoTitle: \"memo3\",\n        memoContent: \"memoContent3\",\n        memoVideoTime: 391\n      }, {\n        memoId: \"4\",\n        memoTitle: \"memo4\",\n        memoContent: \"memoContent4\",\n        memoVideoTime: 491\n      }],\n      title: \"This will be Title section\",\n      content: \"This will be Content section\"\n    };\n  }\n\n  render() {\n    let memoIndex = -1;\n    let onTiming = true;\n    let currentTime = 0;\n    let onStateChangeId = null;\n    let memosWithIndex = this.state.memoList.map(memo => Object.assign(memo, {\n      index: ++memoIndex\n    }));\n    let youtubeVideoPlayer = null;\n\n    let _onReady = e => {\n      youtubeVideoPlayer = e.target;\n      youtubeVideoPlayer.playVideo();\n      const memoList = document.getElementById(\"memoList\");\n      memoList.value = youtubeVideoPlayer;\n      let du = e.target.getDuration();\n      onStateChangeId = true;\n      setTimeout(_onStateChange(du, currentTime), 100);\n    };\n\n    let onClickMemoAdd = e => {\n      if (youtubeVideoPlayer !== null) alert(youtubeVideoPlayer.getCurrentTime());\n    };\n\n    let _onChangeTitle = e => {\n      this.setState({\n        title: e.target.value\n      });\n    };\n\n    let _onChageContent = e => {\n      this.setState({\n        content: e.target.value\n      });\n    };\n\n    let _onChangeVideoTime = index => {\n      this.setState({\n        title: memosWithIndex[index].memoTitle,\n        content: memosWithIndex[index].memoContent\n      });\n      memoIndex = index;\n    };\n\n    let _onPause = e => {\n      onStateChangeId = false;\n    };\n\n    let _onStateChange = (duration, i) => {\n      let player = youtubeVideoPlayer;\n      let id = onStateChangeId;\n      let clearTime = setInterval(() => {\n        if (!id) clearTimeout(clearTime);\n        let cTime = Number.parseInt(player.getCurrentTime());\n        let cMemo = memosWithIndex.map(memo => memo).filter(memo => memo.memoVideoTime === cTime);\n        console.log(cMemo.length);\n\n        if (cMemo.length > 0) {\n          this.setState({\n            title: cMemo[0].memoTitle,\n            content: cMemo[0].memoContent\n          });\n        }\n      }, 500);\n    };\n\n    let memoArray = memosWithIndex.map(memo => /*#__PURE__*/React.createElement(Memo, {\n      onStateChange: _onChangeVideoTime,\n      key: memo.memoId,\n      memo: memo,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 52\n      }\n    }));\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"NoteDetail\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"YoutubeVideo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Youtube, {\n      className: \"YoutubeVideoI\",\n      videoId: \"WR-4E2r5rh4\",\n      onReady: _onReady,\n      onPause: _onPause,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"curentMemo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"currentMemoTitle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      onChange: _onChangeTitle,\n      value: this.state.title,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"memoContentDiv\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      onChange: _onChageContent,\n      value: this.state.content,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"memo-add-button\",\n      onClick: onClickMemoAdd,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 29\n      }\n    }, \"\\uBA54\\uBAA8\\uCD94\\uAC00\")))), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"memoList\",\n      className: \"MemoList\",\n      value: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 17\n      }\n    }, memoArray));\n  }\n\n}","map":{"version":3,"sources":["D:/react/test-study-redux/src/components/Main/Note/NoteDetail.js"],"names":["React","Component","Memo","Youtube","NoteDetail","state","memoList","memoId","memoTitle","memoContent","memoVideoTime","title","content","render","memoIndex","onTiming","currentTime","onStateChangeId","memosWithIndex","map","memo","Object","assign","index","youtubeVideoPlayer","_onReady","e","target","playVideo","document","getElementById","value","du","getDuration","setTimeout","_onStateChange","onClickMemoAdd","alert","getCurrentTime","_onChangeTitle","setState","_onChageContent","_onChangeVideoTime","_onPause","duration","i","player","id","clearTime","setInterval","clearTimeout","cTime","Number","parseInt","cMemo","filter","console","log","length","memoArray"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport Memo from './Memo';\r\nimport Youtube from 'react-youtube';\r\nimport './NoteDetail.css';\r\n\r\n\r\n\r\nexport default class NoteDetail extends Component {\r\n    state = {\r\n        memoList: [\r\n            { memoId: \"1\", memoTitle: \"memo1\", memoContent: \"memoContent1\", memoVideoTime: 191 },\r\n            { memoId: \"2\", memoTitle: \"memo2\", memoContent: \"memoContent2\", memoVideoTime: 291 },\r\n            { memoId: \"3\", memoTitle: \"memo3\", memoContent: \"memoContent3\", memoVideoTime: 391 },\r\n            { memoId: \"4\", memoTitle: \"memo4\", memoContent: \"memoContent4\", memoVideoTime: 491 }\r\n        ],\r\n        title: \"This will be Title section\",\r\n        content: \"This will be Content section\"\r\n    }\r\n    render() {\r\n        let memoIndex = -1;\r\n        let onTiming = true;\r\n        let currentTime = 0;\r\n        let onStateChangeId = null;\r\n\r\n        let memosWithIndex = this.state.memoList.map(memo => Object.assign(memo, { index: ++memoIndex }))\r\n        let youtubeVideoPlayer = null;\r\n        let _onReady = (e) => {\r\n            youtubeVideoPlayer = e.target;\r\n            youtubeVideoPlayer.playVideo();\r\n            const memoList = document.getElementById(\"memoList\");\r\n            memoList.value = youtubeVideoPlayer;\r\n            let du = e.target.getDuration();\r\n            onStateChangeId = true;\r\n            setTimeout(_onStateChange(du, currentTime), 100);\r\n        }\r\n\r\n        let onClickMemoAdd = (e) => {\r\n            if (youtubeVideoPlayer !== null)\r\n                alert(youtubeVideoPlayer.getCurrentTime());\r\n        }\r\n\r\n        let _onChangeTitle = (e) => {\r\n            this.setState({\r\n                title: e.target.value\r\n            });\r\n        }\r\n        let _onChageContent = (e) => {\r\n            this.setState({\r\n                content: e.target.value\r\n            });\r\n        }\r\n\r\n        let _onChangeVideoTime = (index) => {\r\n            this.setState({\r\n                title: memosWithIndex[index].memoTitle,\r\n                content: memosWithIndex[index].memoContent\r\n            });\r\n            memoIndex = index;\r\n        }\r\n\r\n        let _onPause = (e) => {\r\n            onStateChangeId = false;\r\n        }\r\n        \r\n        let _onStateChange = (duration, i) => {\r\n            let player = youtubeVideoPlayer;\r\n            let id = onStateChangeId;\r\n            let clearTime = setInterval(() => {\r\n                    if(!id) clearTimeout(clearTime);\r\n                    let cTime = Number.parseInt(player.getCurrentTime());\r\n                    let cMemo = memosWithIndex.map(memo => memo).filter(memo => memo.memoVideoTime === cTime);\r\n                    console.log(cMemo.length);\r\n                    if (cMemo.length > 0) {\r\n                        this.setState({\r\n                            title: cMemo[0].memoTitle,\r\n                            content: cMemo[0].memoContent\r\n                        });\r\n                    }\r\n                }, 500);\r\n        }\r\n\r\n        let memoArray = memosWithIndex.map(memo => <Memo onStateChange={_onChangeVideoTime} key={memo.memoId} memo={memo} />);\r\n        return (\r\n\r\n            <div className=\"NoteDetail\">\r\n                <div className=\"YoutubeVideo\">\r\n                    <Youtube className=\"YoutubeVideoI\" videoId=\"WR-4E2r5rh4\" onReady={_onReady} onPause={_onPause} />\r\n                    <div className=\"curentMemo\">\r\n                        <div className=\"currentMemoTitle\">\r\n                            <input onChange={_onChangeTitle} value={this.state.title}></input>\r\n                        </div>\r\n                        <div className=\"memoContentDiv\">\r\n                            <input onChange={_onChageContent} value={this.state.content}></input>\r\n                            <button className=\"memo-add-button\" onClick={onClickMemoAdd}>메모추가</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div id=\"memoList\" className=\"MemoList\" value=\"\">\r\n                    {memoArray}\r\n                </div>\r\n            </div>\r\n        )\r\n    };\r\n}"]},"metadata":{},"sourceType":"module"}