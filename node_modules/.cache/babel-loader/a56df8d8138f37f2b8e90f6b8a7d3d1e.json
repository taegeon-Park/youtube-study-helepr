{"ast":null,"code":"import _classCallCheck from\"D:\\\\react\\\\test-study-redux\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\react\\\\test-study-redux\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"D:\\\\react\\\\test-study-redux\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"D:\\\\react\\\\test-study-redux\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\react\\\\test-study-redux\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';var YTC=/*#__PURE__*/function(_Component){_inherits(YTC,_Component);var _super=_createSuper(YTC);function YTC(props){var _this;_classCallCheck(this,YTC);_this=_super.call(this,props);_this.init();_this.video=_this.props.videoId;window['onYouTubeIframeAPIReady']=function(e){_this.YT=window['YT'];_this.reframed=false;_this.player=new window['YT'].Player('player',{videoId:_this.video,events:{'onStateChange':_this.onPlayerStateChange.bind(_assertThisInitialized(_this)),'onError':_this.onPlayerError.bind(_assertThisInitialized(_this)),'onReady':function onReady(e){if(!_this.reframed){_this.reframed=true;_this.setState();}}}});};return _this;}_createClass(YTC,[{key:\"init\",value:function init(){var tag=document.createElement('script');tag.src='https://www.youtube.com/iframe_api';var firstScriptTag=document.getElementsByTagName('script')[0];firstScriptTag.parentNode.insertBefore(tag,firstScriptTag);}},{key:\"render\",value:function render(){var style=\".max-width-1024 { max-width: 1024px; margin: 0 auto; }\";return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"style\",null,style),/*#__PURE__*/React.createElement(\"div\",{className:\"max-width-1024\"},/*#__PURE__*/React.createElement(\"div\",{className:\"embed-responsive embed-responsive-16by9\",id:\"player\"})));}},{key:\"onPlayerStateChange\",value:function onPlayerStateChange(event){console.log(event);switch(event.data){case window['YT'].PlayerState.PLAYING:if(this.cleanTime()===0){console.log('started '+this.cleanTime());}else{console.log('playing '+this.cleanTime());};break;case window['YT'].PlayerState.PAUSED:if(this.player.getDuration()-this.player.getCurrentTime()!==0){};break;case window['YT'].PlayerState.ENDED:console.log('ended ');break;default:break;};}},{key:\"cleanTime\",//utility\nvalue:function cleanTime(){return Math.round(this.player.getCurrentTime());}},{key:\"onPlayerError\",value:function onPlayerError(event){switch(event.data){case 2:console.log(''+this.video);break;case 100:break;case 101||150:break;default:break;};}}]);return YTC;}(Component);export{YTC as default};","map":{"version":3,"sources":["D:/react/test-study-redux/src/components/Main/Note/YTC.js"],"names":["React","Component","YTC","props","init","video","videoId","window","e","YT","reframed","player","Player","events","onPlayerStateChange","bind","onPlayerError","setState","tag","document","createElement","src","firstScriptTag","getElementsByTagName","parentNode","insertBefore","style","event","console","log","data","PlayerState","PLAYING","cleanTime","PAUSED","getDuration","getCurrentTime","ENDED","Math","round"],"mappings":"mvBAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,KAA+B,OAA/B,C,GAEqBC,CAAAA,G,0FAEjB,aAAYC,KAAZ,CAAmB,qCACf,uBAAMA,KAAN,EACA,MAAKC,IAAL,GACA,MAAKC,KAAL,CAAa,MAAKF,KAAL,CAAWG,OAAxB,CAEAC,MAAM,CAAC,yBAAD,CAAN,CAAoC,SAACC,CAAD,CAAO,CACzC,MAAKC,EAAL,CAAUF,MAAM,CAAC,IAAD,CAAhB,CACA,MAAKG,QAAL,CAAgB,KAAhB,CACA,MAAKC,MAAL,CAAc,GAAIJ,CAAAA,MAAM,CAAC,IAAD,CAAN,CAAaK,MAAjB,CAAwB,QAAxB,CAAkC,CAC9CN,OAAO,CAAE,MAAKD,KADgC,CAE9CQ,MAAM,CAAE,CACN,gBAAiB,MAAKC,mBAAL,CAAyBC,IAAzB,+BADX,CAEN,UAAW,MAAKC,aAAL,CAAmBD,IAAnB,+BAFL,CAGN,UAAW,iBAACP,CAAD,CAAO,CAChB,GAAI,CAAC,MAAKE,QAAV,CAAoB,CAClB,MAAKA,QAAL,CAAgB,IAAhB,CACA,MAAKO,QAAL,GACD,CACF,CARK,CAFsC,CAAlC,CAAd,CAaD,CAhBD,CALe,aAsBhB,C,mDAEM,CACL,GAAIC,CAAAA,GAAG,CAAGC,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAAV,CACAF,GAAG,CAACG,GAAJ,CAAU,oCAAV,CACA,GAAIC,CAAAA,cAAc,CAAGH,QAAQ,CAACI,oBAAT,CAA8B,QAA9B,EAAwC,CAAxC,CAArB,CACAD,cAAc,CAACE,UAAf,CAA0BC,YAA1B,CAAuCP,GAAvC,CAA4CI,cAA5C,EACD,C,uCAEQ,CACP,GAAMI,CAAAA,KAAK,yDAAX,CACA,mBAAQ,4CACJ,iCAAQA,KAAR,CADI,cAEN,2BAAK,SAAS,CAAC,gBAAf,eACA,2BAAK,SAAS,CAAC,yCAAf,CAAyD,EAAE,CAAC,QAA5D,EADA,CAFM,CAAR,CAQD,C,gEAEmBC,K,CAAO,CACzBC,OAAO,CAACC,GAAR,CAAYF,KAAZ,EACA,OAAQA,KAAK,CAACG,IAAd,EACE,IAAKvB,CAAAA,MAAM,CAAC,IAAD,CAAN,CAAawB,WAAb,CAAyBC,OAA9B,CACE,GAAI,KAAKC,SAAL,KAAqB,CAAzB,CAA4B,CAC1BL,OAAO,CAACC,GAAR,CAAY,WAAa,KAAKI,SAAL,EAAzB,EACD,CAFD,IAEO,CACLL,OAAO,CAACC,GAAR,CAAY,WAAa,KAAKI,SAAL,EAAzB,EACD,EACD,MACF,IAAK1B,CAAAA,MAAM,CAAC,IAAD,CAAN,CAAawB,WAAb,CAAyBG,MAA9B,CACE,GAAI,KAAKvB,MAAL,CAAYwB,WAAZ,GAA4B,KAAKxB,MAAL,CAAYyB,cAAZ,EAA5B,GAA6D,CAAjE,CAAoE,CACnE,EACD,MACF,IAAK7B,CAAAA,MAAM,CAAC,IAAD,CAAN,CAAawB,WAAb,CAAyBM,KAA9B,CACET,OAAO,CAACC,GAAR,CAAY,QAAZ,EACA,MACF,QACE,MAhBJ,CAiBC,CACF,C,mBACD;0BACY,CACV,MAAOS,CAAAA,IAAI,CAACC,KAAL,CAAW,KAAK5B,MAAL,CAAYyB,cAAZ,EAAX,CAAP,CACD,C,oDACaT,K,CAAO,CACnB,OAAQA,KAAK,CAACG,IAAd,EACE,IAAK,EAAL,CACEF,OAAO,CAACC,GAAR,CAAY,GAAK,KAAKxB,KAAtB,EACA,MACF,IAAK,IAAL,CACE,MACF,IAAK,MAAO,GAAZ,CACE,MACF,QACI,MATN,CAUC,CACF,C,iBAlF0BJ,S,SAAZC,G","sourcesContent":["import React, {Component} from 'react';\r\n\r\nexport default class YTC extends Component {\r\n    \r\n    constructor(props) {\r\n        super(props);\r\n        this.init();\r\n        this.video = this.props.videoId;\r\n    \r\n        window['onYouTubeIframeAPIReady'] = (e) => {\r\n          this.YT = window['YT'];\r\n          this.reframed = false;\r\n          this.player = new window['YT'].Player('player', {\r\n            videoId: this.video,\r\n            events: {\r\n              'onStateChange': this.onPlayerStateChange.bind(this),\r\n              'onError': this.onPlayerError.bind(this),\r\n              'onReady': (e) => {\r\n                if (!this.reframed) {\r\n                  this.reframed = true;\r\n                  this.setState();\r\n                }\r\n              }\r\n            }\r\n          });\r\n        };\r\n      }\r\n      \r\n      init() {\r\n        let tag = document.createElement('script');\r\n        tag.src = 'https://www.youtube.com/iframe_api';\r\n        let firstScriptTag = document.getElementsByTagName('script')[0];\r\n        firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);\r\n      }\r\n\r\n      render() {\r\n        const style = `.max-width-1024 { max-width: 1024px; margin: 0 auto; }`;\r\n        return (<div>\r\n            <style>{style}</style>\r\n          <div className=\"max-width-1024\">\r\n          <div className=\"embed-responsive embed-responsive-16by9\" id=\"player\">\r\n          </div>\r\n        </div>\r\n          </div>\r\n        );\r\n      }\r\n    \r\n      onPlayerStateChange(event) {\r\n        console.log(event)\r\n        switch (event.data) {\r\n          case window['YT'].PlayerState.PLAYING:\r\n            if (this.cleanTime() === 0) {\r\n              console.log('started ' + this.cleanTime());\r\n            } else {\r\n              console.log('playing ' + this.cleanTime())\r\n            };\r\n            break;\r\n          case window['YT'].PlayerState.PAUSED:\r\n            if (this.player.getDuration() - this.player.getCurrentTime() !== 0) {\r\n            };\r\n            break;\r\n          case window['YT'].PlayerState.ENDED:\r\n            console.log('ended ');\r\n            break;\r\n          default:\r\n            break;\r\n        };\r\n      };\r\n      //utility\r\n      cleanTime() {\r\n        return Math.round(this.player.getCurrentTime())\r\n      };\r\n      onPlayerError(event) {\r\n        switch (event.data) {\r\n          case 2:\r\n            console.log('' + this.video)\r\n            break;\r\n          case 100:\r\n            break;\r\n          case 101 || 150:\r\n            break;\r\n          default:\r\n              break;\r\n        };\r\n      };\r\n    }\r\n    "]},"metadata":{},"sourceType":"module"}