{"ast":null,"code":"import _classCallCheck from\"D:\\\\react\\\\test-study-redux\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\react\\\\test-study-redux\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\react\\\\test-study-redux\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\react\\\\test-study-redux\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import Memo from'./Memo';import Youtube from'react-youtube';import'./NoteDetail.css';var NoteDetail=/*#__PURE__*/function(_Component){_inherits(NoteDetail,_Component);var _super=_createSuper(NoteDetail);function NoteDetail(){var _this;_classCallCheck(this,NoteDetail);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={memoList:[{memoId:\"1\",memoTitle:\"memo1\",memoContent:\"memoContent1\",memoVideoTime:191},{memoId:\"2\",memoTitle:\"memo2\",memoContent:\"memoContent2\",memoVideoTime:291},{memoId:\"3\",memoTitle:\"memo3\",memoContent:\"memoContent3\",memoVideoTime:391},{memoId:\"4\",memoTitle:\"memo4\",memoContent:\"memoContent4\",memoVideoTime:491}],title:\"This will be Title section\",content:\"This will be Content section\"};return _this;}_createClass(NoteDetail,[{key:\"render\",value:function render(){var _this2=this;var memoIndex=-1;var onStateChangeId=null;var memosWithIndex=this.state.memoList.map(function(memo){return Object.assign(memo,{index:++memoIndex});});var youtubeVideoPlayer=null;var _onReady=function _onReady(e){youtubeVideoPlayer=e.target;youtubeVideoPlayer.playVideo();var memoList=document.getElementById(\"memoList\");memoList.value=youtubeVideoPlayer;onStateChangeId=true;setTimeout(_onTimeChange(),100);};var onClickMemoAdd=function onClickMemoAdd(e){if(youtubeVideoPlayer!==null)alert(youtubeVideoPlayer.getCurrentTime());};var _onChangeTitle=function _onChangeTitle(e){_this2.setState({title:e.target.value});};var _onChageContent=function _onChageContent(e){_this2.setState({content:e.target.value});};var _onChangeVideoTime=function _onChangeVideoTime(index){_this2.setState({title:memosWithIndex[index].memoTitle,content:memosWithIndex[index].memoContent});memoIndex=index;};var _onStateChange=function _onStateChange(e){onStateChangeId=false;var cState=e.target.getPlayerState();switch(cState){case-1:// 시작되지 않음\nbreak;case 0:// 종료\nbreak;case 1:onStateChangeId=true;setTimeout(_onTimeChange(),100);// 재생중\nbreak;case 2:// 일시중지\nbreak;case 3:// 버퍼링\nbreak;case 5:// 버퍼링\nbreak;default:break;}};var _onTimeChange=function _onTimeChange(){var player=youtubeVideoPlayer;var clearTime=setInterval(function(){if(!onStateChangeId)clearTimeout(clearTime);var cTime=Number.parseInt(player.getCurrentTime());var cMemo=memosWithIndex.map(function(memo){return memo;}).filter(function(memo){return memo.memoVideoTime===cTime;});if(cMemo.length>0){_this2.setState({title:cMemo[0].memoTitle,content:cMemo[0].memoContent});}},500);};var memoArray=memosWithIndex.map(function(memo){return/*#__PURE__*/React.createElement(Memo,{onStateChange:_onChangeVideoTime,key:memo.memoId,memo:memo});});return/*#__PURE__*/React.createElement(\"div\",{className:\"NoteDetail\"},/*#__PURE__*/React.createElement(\"div\",{className:\"YoutubeVideo\"},/*#__PURE__*/React.createElement(Youtube,{className:\"YoutubeVideoI\",videoId:\"WR-4E2r5rh4\",onReady:_onReady,onStateChange:_onStateChange}),/*#__PURE__*/React.createElement(\"div\",{className:\"curentMemo\"},/*#__PURE__*/React.createElement(\"div\",{className:\"currentMemoTitle\"},/*#__PURE__*/React.createElement(\"input\",{onChange:_onChangeTitle,value:this.state.title})),/*#__PURE__*/React.createElement(\"div\",{className:\"memoContentDiv\"},/*#__PURE__*/React.createElement(\"input\",{onChange:_onChageContent,value:this.state.content}),/*#__PURE__*/React.createElement(\"button\",{className:\"memo-add-button\",onClick:onClickMemoAdd},\"\\uBA54\\uBAA8\\uCD94\\uAC00\")))),/*#__PURE__*/React.createElement(\"div\",{id:\"memoList\",className:\"MemoList\",value:\"\"},memoArray));}}]);return NoteDetail;}(Component);export{NoteDetail as default};","map":{"version":3,"sources":["D:/react/test-study-redux/src/components/Main/Note/NoteDetail.js"],"names":["React","Component","Memo","Youtube","NoteDetail","state","memoList","memoId","memoTitle","memoContent","memoVideoTime","title","content","memoIndex","onStateChangeId","memosWithIndex","map","memo","Object","assign","index","youtubeVideoPlayer","_onReady","e","target","playVideo","document","getElementById","value","setTimeout","_onTimeChange","onClickMemoAdd","alert","getCurrentTime","_onChangeTitle","setState","_onChageContent","_onChangeVideoTime","_onStateChange","cState","getPlayerState","player","clearTime","setInterval","clearTimeout","cTime","Number","parseInt","cMemo","filter","length","memoArray"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport Memo from './Memo';\r\nimport Youtube from 'react-youtube';\r\nimport './NoteDetail.css';\r\n\r\n\r\n\r\nexport default class NoteDetail extends Component {\r\n    state = {\r\n        memoList: [\r\n            { memoId: \"1\", memoTitle: \"memo1\", memoContent: \"memoContent1\", memoVideoTime: 191 },\r\n            { memoId: \"2\", memoTitle: \"memo2\", memoContent: \"memoContent2\", memoVideoTime: 291 },\r\n            { memoId: \"3\", memoTitle: \"memo3\", memoContent: \"memoContent3\", memoVideoTime: 391 },\r\n            { memoId: \"4\", memoTitle: \"memo4\", memoContent: \"memoContent4\", memoVideoTime: 491 }\r\n        ],\r\n        title: \"This will be Title section\",\r\n        content: \"This will be Content section\"\r\n    }\r\n    render() {\r\n        let memoIndex = -1;\r\n        let onStateChangeId = null;\r\n\r\n        let memosWithIndex = this.state.memoList.map(memo => Object.assign(memo, { index: ++memoIndex }))\r\n        let youtubeVideoPlayer = null;\r\n        let _onReady = (e) => {\r\n            youtubeVideoPlayer = e.target;\r\n            youtubeVideoPlayer.playVideo();\r\n            const memoList = document.getElementById(\"memoList\");\r\n            memoList.value = youtubeVideoPlayer;\r\n            onStateChangeId = true;\r\n            setTimeout(_onTimeChange(), 100);\r\n        }\r\n\r\n        let onClickMemoAdd = (e) => {\r\n            if (youtubeVideoPlayer !== null)\r\n                alert(youtubeVideoPlayer.getCurrentTime());\r\n        }\r\n\r\n        let _onChangeTitle = (e) => {\r\n            this.setState({\r\n                title: e.target.value\r\n            });\r\n        }\r\n        let _onChageContent = (e) => {\r\n            this.setState({\r\n                content: e.target.value\r\n            });\r\n        }\r\n\r\n        let _onChangeVideoTime = (index) => {\r\n            this.setState({\r\n                title: memosWithIndex[index].memoTitle,\r\n                content: memosWithIndex[index].memoContent\r\n            });\r\n            memoIndex = index;\r\n        }\r\n\r\n        let _onStateChange = (e) => {\r\n            onStateChangeId = false;\r\n            let cState = e.target.getPlayerState();\r\n            switch(cState) {\r\n                case -1:\r\n                    // 시작되지 않음\r\n                    break;\r\n                case 0:\r\n                    // 종료\r\n                    break;\r\n                case 1:\r\n                    onStateChangeId=true; setTimeout(_onTimeChange(), 100);\r\n                    // 재생중\r\n                    break;\r\n                case 2:\r\n                    // 일시중지\r\n                    break;\r\n                case 3:\r\n                    // 버퍼링\r\n                    break;\r\n                case 5:\r\n                    // 버퍼링\r\n                    break\r\n                default:\r\n                    break;\r\n            }\r\n        }\r\n        \r\n\r\n        let _onTimeChange = () => {\r\n            let player = youtubeVideoPlayer;\r\n            let clearTime = setInterval(() => {\r\n                    if(!onStateChangeId) clearTimeout(clearTime);\r\n                    let cTime = Number.parseInt(player.getCurrentTime());\r\n                    let cMemo = memosWithIndex.map(memo => memo).filter(memo => memo.memoVideoTime === cTime);\r\n                    if (cMemo.length > 0) {\r\n                        this.setState({\r\n                            title: cMemo[0].memoTitle,\r\n                            content: cMemo[0].memoContent\r\n                        });\r\n                    }\r\n                }, 500);\r\n        }\r\n\r\n        let memoArray = memosWithIndex.map(memo => <Memo onStateChange={_onChangeVideoTime} key={memo.memoId} memo={memo} />);\r\n        return (\r\n\r\n            <div className=\"NoteDetail\">\r\n                <div className=\"YoutubeVideo\">\r\n                    <Youtube className=\"YoutubeVideoI\" videoId=\"WR-4E2r5rh4\" onReady={_onReady} onStateChange={_onStateChange} />\r\n                    <div className=\"curentMemo\">\r\n                        <div className=\"currentMemoTitle\">\r\n                            <input onChange={_onChangeTitle} value={this.state.title}></input>\r\n                        </div>\r\n                        <div className=\"memoContentDiv\">\r\n                            <input onChange={_onChageContent} value={this.state.content}></input>\r\n                            <button className=\"memo-add-button\" onClick={onClickMemoAdd}>메모추가</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div id=\"memoList\" className=\"MemoList\" value=\"\">\r\n                    {memoArray}\r\n                </div>\r\n            </div>\r\n        )\r\n    };\r\n}"]},"metadata":{},"sourceType":"module"}