{"ast":null,"code":"import _regeneratorRuntime from\"D:\\\\react\\\\test-study-redux\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"D:\\\\react\\\\test-study-redux\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"D:\\\\react\\\\test-study-redux\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\react\\\\test-study-redux\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\react\\\\test-study-redux\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\react\\\\test-study-redux\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import Note from'./Main/Note';import'./Main.css';import store from'../store';import httpGetConnection from'../modules/httpConnection/httpGetConnection';import CURL from'../modules/url';import httpJsonConnection from'../modules/httpConnection/httpJsonConnection';var Main=/*#__PURE__*/function(_Component){_inherits(Main,_Component);var _super=_createSuper(Main);function Main(props){var _this;_classCallCheck(this,Main);_this=_super.call(this,props);_this.mount=false;_this.state={title:\"\",desc:\"\",url:\"\"};store.subscribe(function(){if(_this.mount){_this.setState(store.getState());}});return _this;}_createClass(Main,[{key:\"shouldComponentUpdate\",value:function shouldComponentUpdate(nextProps,nextState){return true;}},{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _categoryCode,url;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:this.mount=true;_categoryCode=store.getState().categorySelected;if(_categoryCode!==false){url=\"\".concat(CURL.url,\"getCategoryItems\");httpGetConnection(url,{userEmail:'vrimd1017@gmail.com',categoryCode:_categoryCode},function(responseJson){store.dispatch({type:\"NOTES_LOADED\",noteArr:responseJson});},function(){alert(\"Connection Fail\");});}case 3:case\"end\":return _context.stop();}}},_callee,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){var _this2=this;var _onClickNoteCreateButton=function _onClickNoteCreateButton(e){var NoteCreate=document.querySelectorAll('.Note-create');NoteCreate.forEach(function(element){element.style.visibility='visible';});};var _onClickCancleButton=function _onClickCancleButton(e){var NoteCreate=document.querySelectorAll('.Note-create');NoteCreate.forEach(function(element){element.style.visibility='hidden';});};var _onClickCreateButton=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e){var url,json,response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:url=\"\".concat(CURL.url,\"insertNote\");json={'noteTitle':_this2.state.title,'noteContent':_this2.state.desc,'noteUrl':_this2.state.url,'noteCategory':store.getState().categorySelected};response=httpJsonConnection(url,json,function(){},function(){});store.dispatch({type:'EXTEND_MAIN',onExtendMain:false});store.dispatch({type:'SELECTED_CATEGORY',categorySelected:store.getState().categorySelected});case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function _onClickCreateButton(_x){return _ref.apply(this,arguments);};}();var mouseOut=false;var _onMouseOut=function _onMouseOut(e){mouseOut=true;};var _onMouseOver=function _onMouseOver(e){mouseOut=false;};var _onClickOuter=function _onClickOuter(e){if(mouseOut)_onClickCancleButton();};var _onChangeTitle=function _onChangeTitle(e){_this2.setState({title:e.target.value});};var _onChangeDesc=function _onChangeDesc(e){_this2.setState({desc:e.target.value});};var _onChangeURL=function _onChangeURL(e){_this2.setState({url:e.target.value});};var notes=[];notes=this.props.noteArr.map(function(note){return/*#__PURE__*/React.createElement(Note,{key:note.noteCode,Note:note});});return/*#__PURE__*/React.createElement(\"div\",{className:\"Main\"},/*#__PURE__*/React.createElement(\"div\",{className:\"Note-craete-outer Note-create\",onClick:_onClickOuter}),/*#__PURE__*/React.createElement(\"div\",{className:\"Note-create-in Note-create\",onMouseOut:_onMouseOut,onMouseEnter:_onMouseOver},/*#__PURE__*/React.createElement(\"h1\",null,\"Create NOTE\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",value:this.state.title,onChange:_onChangeTitle,placeholder:\"Note title\"}),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",value:this.state.desc,onChange:_onChangeDesc,placeholder:\"Note Description\"}),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",value:this.state.url,onChange:_onChangeURL,placeholder:\"Video url\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"Note-create-buttons\"},/*#__PURE__*/React.createElement(\"button\",{className:\"Note-create-button\",onClick:_onClickCancleButton},\"CANCLE\"),/*#__PURE__*/React.createElement(\"button\",{className:\"Note-create-button\",onClick:_onClickCreateButton},\"CREATE\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"Note-tool\"},/*#__PURE__*/React.createElement(\"label\",{className:\"button-layout\"},\"\\uB178\\uD2B8 \\uC0DD\\uC131\",/*#__PURE__*/React.createElement(\"button\",{className:\"tool-button\",onClick:_onClickNoteCreateButton},\"+\")),/*#__PURE__*/React.createElement(\"label\",{className:\"button-layout\"},\"\\uB178\\uD2B8 \\uC0AD\\uC81C\",/*#__PURE__*/React.createElement(\"button\",{className:\"tool-button\"},\"-\"))),store.getState().categorySelected?notes:/*#__PURE__*/React.createElement(\"p\",null,\"\\uCE74\\uD14C\\uACE0\\uB9AC \\uC120\\uD0DD\\uD574\\uB77C\\uC639\"));}}]);return Main;}(Component);export{Main as default};","map":{"version":3,"sources":["D:/react/test-study-redux/src/components/Main.js"],"names":["React","Component","Note","store","httpGetConnection","CURL","httpJsonConnection","Main","props","mount","state","title","desc","url","subscribe","setState","getState","nextProps","nextState","_categoryCode","categorySelected","userEmail","categoryCode","responseJson","dispatch","type","noteArr","alert","_onClickNoteCreateButton","e","NoteCreate","document","querySelectorAll","forEach","element","style","visibility","_onClickCancleButton","_onClickCreateButton","json","response","onExtendMain","mouseOut","_onMouseOut","_onMouseOver","_onClickOuter","_onChangeTitle","target","value","_onChangeDesc","_onChangeURL","notes","map","note","noteCode"],"mappings":"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","sourcesContent":["\r\nimport React, { Component } from 'react';\r\nimport Note from './Main/Note'\r\nimport './Main.css';\r\nimport store from '../store';\r\nimport httpGetConnection from '../modules/httpConnection/httpGetConnection';\r\nimport CURL from '../modules/url';\r\nimport httpJsonConnection from '../modules/httpConnection/httpJsonConnection';\r\n\r\nexport default class Main extends Component {\r\n  mount = false;\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      title: \"\",\r\n      desc: \"\",\r\n      url: \"\",\r\n    }\r\n\r\n    store.subscribe(() => {\r\n      if (this.mount) {\r\n        this.setState(store.getState());\r\n      }\r\n    });\r\n  }\r\n\r\n  shouldComponentUpdate(nextProps, nextState) {\r\n\r\n    return true;\r\n  }\r\n\r\n\r\n  async componentDidMount() {\r\n    this.mount = true;\r\n\r\n    let _categoryCode = store.getState().categorySelected;\r\n    if (_categoryCode !== false) {\r\n      let url = `${CURL.url}getCategoryItems`;\r\n      httpGetConnection(url, { userEmail: 'vrimd1017@gmail.com', categoryCode: _categoryCode },\r\n        (responseJson) => {\r\n          store.dispatch({\r\n            type: \"NOTES_LOADED\",\r\n            noteArr: responseJson\r\n          })\r\n        },\r\n        () => { alert(\"Connection Fail\") }\r\n      )\r\n    }\r\n  }\r\n\r\n  render() {\r\n    let _onClickNoteCreateButton = (e) => {\r\n      let NoteCreate = document.querySelectorAll('.Note-create');\r\n      NoteCreate.forEach(element => {\r\n        element.style.visibility = 'visible';\r\n      })\r\n    }\r\n\r\n    let _onClickCancleButton = (e) => {\r\n      let NoteCreate = document.querySelectorAll('.Note-create');\r\n      NoteCreate.forEach(element => {\r\n        element.style.visibility = 'hidden';\r\n      });\r\n    }\r\n\r\n    let _onClickCreateButton = async (e) => {\r\n      let url = `${CURL.url}insertNote`;\r\n      let json = {\r\n        'noteTitle': this.state.title,\r\n        'noteContent': this.state.desc,\r\n        'noteUrl': this.state.url,\r\n        'noteCategory': store.getState().categorySelected\r\n      }\r\n      let response = httpJsonConnection(url, json,\r\n        () => { }, () => { });\r\n      store.dispatch({ type: 'EXTEND_MAIN', onExtendMain: false });\r\n      store.dispatch({ type: 'SELECTED_CATEGORY', categorySelected: store.getState().categorySelected });\r\n    }\r\n\r\n    let mouseOut = false;\r\n\r\n    let _onMouseOut = (e) => {\r\n      mouseOut = true;\r\n    }\r\n\r\n    let _onMouseOver = (e) => {\r\n      mouseOut = false;\r\n    }\r\n\r\n    let _onClickOuter = (e) => {\r\n      if (mouseOut)\r\n        _onClickCancleButton();\r\n    }\r\n\r\n    let _onChangeTitle = (e) => {\r\n      this.setState({title: e.target.value});\r\n    }\r\n\r\n    let _onChangeDesc = (e) => {\r\n      this.setState({desc: e.target.value});\r\n    }\r\n\r\n    let _onChangeURL = (e) => {\r\n      this.setState({url: e.target.value});\r\n    }\r\n\r\n    let notes = [];\r\n    notes = this.props.noteArr.map(\r\n      note => (<Note key={note.noteCode} Note={note}></Note>)\r\n    );\r\n    return (\r\n      <div className=\"Main\">\r\n        <div className=\"Note-craete-outer Note-create\" onClick={_onClickOuter}></div>\r\n        <div className=\"Note-create-in Note-create\" onMouseOut={_onMouseOut} onMouseEnter={_onMouseOver}>\r\n          <h1>Create NOTE</h1>\r\n          <input type=\"text\" value={this.state.title} onChange={_onChangeTitle} placeholder=\"Note title\" />\r\n          <input type=\"text\" value={this.state.desc} onChange={_onChangeDesc} placeholder=\"Note Description\" />\r\n          <input type=\"text\" value={this.state.url} onChange={_onChangeURL} placeholder=\"Video url\" />\r\n          <div className=\"Note-create-buttons\">\r\n            <button className=\"Note-create-button\" onClick={_onClickCancleButton}>CANCLE</button>\r\n            <button className=\"Note-create-button\" onClick={_onClickCreateButton}>CREATE</button>\r\n          </div>\r\n        </div>\r\n        <div className=\"Note-tool\">\r\n          <label className=\"button-layout\">\r\n            노트 생성\r\n              <button className=\"tool-button\" onClick={_onClickNoteCreateButton}>+</button>\r\n          </label>\r\n          <label className=\"button-layout\">\r\n            노트 삭제\r\n          <button className=\"tool-button\">-</button>\r\n          </label>\r\n        </div>\r\n        {store.getState().categorySelected ?\r\n          notes : <p>카테고리 선택해라옹</p>\r\n        }\r\n      </div>\r\n    )\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}